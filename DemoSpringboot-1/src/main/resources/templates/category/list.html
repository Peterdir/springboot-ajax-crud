<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/main}">
<head>
  <title>Qu·∫£n l√Ω danh m·ª•c</title>
  <link rel="stylesheet" th:href="@{/css/list.css}">
</head>
<body>
<section layout:fragment="content" class="category-list">

  <!-- ====== HEADER ====== -->
  <div class="page-header">
    <h2><i class="fa fa-folder-open"></i> Qu·∫£n l√Ω danh m·ª•c</h2>
    <div class="actions">
      <form th:action="@{/admin/categories}" method="get" class="search-form">
        <input type="text" name="q" th:value="${param.q}" placeholder="üîç T√¨m theo t√™n...">
        <button type="submit">T√¨m</button>
      </form>
      <a th:href="@{/admin/categories/new}" class="btn btn-add">+ Th√™m m·ªõi</a>
    </div>
  </div>

  <!-- ====== TABLE ====== -->
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>T√™n danh m·ª•c</th>
          <th>M√¥ t·∫£</th>
          <th>Thao t√°c</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="c : ${page.content}">
          <td th:text="${c.id}"></td>
          <td th:text="${c.categoryName}"></td>
          <td th:text="${c.description != null ? c.description : '‚Äî'}"></td>
          <td class="actions">
            <a th:href="@{'/admin/categories/' + ${c.id} + '/edit'}" class="btn btn-edit">S·ª≠a</a>
            <form th:action="@{'/admin/categories/' + ${c.id} + '/delete'}" method="post" style="display:inline">
              <button type="submit" class="btn btn-delete"
                      onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a danh m·ª•c n√†y kh√¥ng?')">
                X√≥a
              </button>
            </form>
          </td>
        </tr>
        <tr th:if="${#lists.isEmpty(page.content)}">
          <td colspan="4" style="text-align:center;">Kh√¥ng c√≥ danh m·ª•c n√†o</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- ====== PAGINATION ====== -->
  <div class="pagination">
    <a th:if="${!page.first}" th:href="@{|/admin/categories?page=${page.number-1}|}">&laquo; Tr∆∞·ªõc</a>
    <span>Trang <span th:text="${page.number + 1}"></span> / 
          <span th:text="${page.totalPages}"></span></span>
    <a th:if="${!page.last}" th:href="@{|/admin/categories?page=${page.number+1}|}">Sau &raquo;</a>
  </div>

</section>
</body>
</html>
